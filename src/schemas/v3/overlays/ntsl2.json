{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://trust.propdata.org.uk/schemas/v3/overlays/ntsl2.json",
  "required": [
    "propertyPack"
  ],
  "properties": {
    "propertyPack": {
      "ntsl2Ref": "0",
      "required": [
        "lettingInformation",
        "councilTax",
        "energyEfficiency",
        "buildInformation",
        "typeOfConstruction",
        "electricity",
        "connectivity",
        "waterAndDrainage",
        "heating",
        "parking",
        "listingAndConservation",
        "rightsAndInformalArrangements",
        "environmentalIssues",
        "notices",
        "specialistIssues"
      ],
      "properties": {
        "lettingInformation": {
          "ntsl2Ref": "A2",
          "required": [
            "rent",
            "rentFrequency"
          ],
          "properties": {
            "rent": {
              "ntsl2Ref": "A2.1"
            },
            "rentFrequency": {
              "ntsl2Ref": "A2.2"
            },
            "securityDeposit": {
              "ntsl2Ref": "A3.1"
            },
            "holdingDeposit": {
              "ntsl2Ref": "A3.2"
            }
          }
        },
        "buildInformation": {
          "ntsl2Ref": "B1.1",
          "required": [
            "building"
          ],
          "properties": {
            "building": {
              "ntsl2Ref": "B1.1.1",
              "discriminator": {
                "propertyName": "propertyType"
              },
              "oneOf": [
                {
                  "properties": {
                    "propertyType": {
                      "enum": [
                        "Other"
                      ]
                    },
                    "otherType": {
                      "ntsl2Ref": "B1.1.1.1"
                    }
                  },
                  "required": [
                    "otherType"
                  ]
                },
                {
                  "properties": {
                    "propertyType": {
                      "enum": [
                        "House",
                        "Bungalow",
                        "Park home"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "propertyType": {
                      "enum": [
                        "Maisonette",
                        "Flat"
                      ]
                    },
                    "numberOfFloors": {
                      "ntsl2Ref": "B1.1.3"
                    },
                    "entranceFloor": {
                      "ntsl2Ref": "B1.1.4"
                    },
                    "hasLift": {
                      "ntsl2Ref": "B1.1.5"
                    },
                    "overCommercialPremises": {
                      "ntsl2Ref": "B1.1.6",
                      "discriminator": {
                        "propertyName": "isLocatedOverCommercialPremises"
                      },
                      "oneOf": [
                        {
                          "properties": {
                            "isLocatedOverCommercialPremises": {
                              "enum": [
                                "No"
                              ]
                            }
                          }
                        },
                        {
                          "properties": {
                            "isLocatedOverCommercialPremises": {
                              "enum": [
                                "Yes"
                              ]
                            },
                            "details": {
                              "ntsl2Ref": "B1.1.6.2"
                            }
                          },
                          "required": [
                            "details"
                          ]
                        }
                      ],
                      "properties": {
                        "isLocatedOverCommercialPremises": {
                          "ntsl2Ref": "B1.1.6.1"
                        }
                      }
                    }
                  }
                }
              ],
              "required": [
                "builtForm",
                "propertyType"
              ],
              "properties": {
                "builtForm": {
                  "ntsl2Ref": "B1.1.2"
                },
                "propertyType": {
                  "ntsl2Ref": "B1.1.1.1"
                }
              }
            },
            "roomDimensions": {
              "ntsl2Ref": "B2",
              "discriminator": {
                "propertyName": "hasFloorplan"
              },
              "oneOf": [
                {
                  "properties": {
                    "hasFloorplan": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "attachments": {
                      "ntsl2Ref": "B2.1.1"
                    }
                  }
                },
                {
                  "properties": {
                    "hasFloorplan": {
                      "enum": [
                        "No"
                      ]
                    },
                    "rooms": {
                      "ntsl2Ref": "B2.2",
                      "items": {
                        "required": [
                          "roomName",
                          "length",
                          "width",
                          "units"
                        ],
                        "properties": {
                          "roomName": {
                            "ntsl2Ref": "B2.2.1"
                          },
                          "description": {
                            "ntsl2Ref": "B2.2.2"
                          },
                          "length": {
                            "ntsl2Ref": "B2.2.3"
                          },
                          "width": {
                            "ntsl2Ref": "B2.2.4"
                          },
                          "units": {
                            "ntsl2Ref": "B2.2.5"
                          },
                          "dimensionDetails": {
                            "ntsl2Ref": "B2.6"
                          }
                        }
                      }
                    }
                  }
                }
              ],
              "required": [
                "hasFloorplan"
              ],
              "properties": {
                "hasFloorplan": {
                  "ntsl2Ref": "B2.1"
                }
              }
            }
          }
        },
        "residentialPropertyFeatures": {
          "ntsl2Ref": "B5",
          "required": [
            "outsideAreas"
          ],
          "properties": {
            "bedrooms": {
              "ntsl2Ref": "B5.1"
            },
            "bathrooms": {
              "ntsl2Ref": "B5.2"
            },
            "receptions": {
              "ntsl2Ref": "B5.3"
            },
            "kitchens": {
              "ntsl2Ref": "B5.4"
            },
            "diningAreas": {
              "ntsl2Ref": "B5.5"
            },
            "outsideAreas": {
              "ntsl2Ref": "B5.1"
            }
          }
        },
        "parking": {
          "ntsl2Ref": "B4",
          "properties": {
            "parkingArrangements": {
              "ntsl2Ref": "B4.1",
              "items": {
                "ntsl2Ref": "B4.1.1"
              }
            },
            "disabledParking": {
              "ntsl2Ref": "B4.2",
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "B4.2.1"
                }
              }
            },
            "controlledParking": {
              "ntsl2Ref": "B4.3",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No",
                        "Not known"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    }
                  }
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "B4.3.1"
                }
              }
            },
            "electricVehicleChargingPoint": {
              "ntsl2Ref": "B4.4",
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "B4.4.1"
                }
              }
            }
          }
        },
        "listingAndConservation": {
          "ntsl2Ref": "C2.1",
          "properties": {
            "isListed": {
              "ntsl2Ref": "C2.1.1",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No",
                        "Not known"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "C2.1.1.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "C2.1.1.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "isConservationArea": {
              "ntsl2Ref": "C2.1.2",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No",
                        "Not known"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "C2.1.2.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "C2.1.2.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "hasTreePreservationOrder": {
              "ntsl2Ref": "C2.1.3",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No",
                        "Not known"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "workCarriedOut": {
                      "ntsl2Ref": "C2.1.3.2",
                      "discriminator": {
                        "propertyName": "yesNo"
                      },
                      "oneOf": [
                        {
                          "properties": {
                            "yesNo": {
                              "enum": [
                                "No"
                              ]
                            }
                          }
                        },
                        {
                          "properties": {
                            "yesNo": {
                              "enum": [
                                "Yes"
                              ]
                            },
                            "consentsObtained": {
                              "ntsl2Ref": "C2.1.3.3"
                            }
                          },
                          "required": [
                            "consentsObtained"
                          ]
                        }
                      ],
                      "required": [
                        "yesNo"
                      ]
                    }
                  }
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "C2.1.3.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            }
          }
        },
        "typeOfConstruction": {
          "ntsl2Ref": "A1.2",
          "required": [
            "isStandardForm",
            "buildingSafety",
            "loft",
            "sprayFoamInsulation"
          ],
          "properties": {
            "isStandardForm": {
              "ntsl2Ref": "A1.2.1",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "constructionType": {
                      "ntsl2Ref": "A1.2.1.3"
                    }
                  },
                  "required": [
                    "constructionType"
                  ]
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A1.2.1.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "A1.2.1.1"
                }
              }
            },
            "buildingSafety": {
              "ntsl2Ref": "C1",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "C1.2"
                    },
                    "workAlreadyDone": {
                      "ntsl2Ref": "C1.3"
                    },
                    "workToBeDone": {
                      "ntsl2Ref": "C1.4"
                    },
                    "potentialCost": {
                      "ntsl2Ref": "C1.5"
                    },
                    "abilityToResideAtProperty": {
                      "ntsl2Ref": "C1.6"
                    }
                  }
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "C1.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "loft": {
              "ntsl2Ref": "A1.2.4",
              "discriminator": {
                "propertyName": "loftAccess"
              },
              "oneOf": [
                {
                  "properties": {
                    "loftAccess": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "loftAccess": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A1.2.4.2"
                    },
                    "loftBoarded": {
                      "ntsl2Ref": "A1.2.4.3"
                    },
                    "loftInsulated": {
                      "ntsl2Ref": "A1.2.4.4"
                    }
                  },
                  "required": [
                    "details",
                    "loftBoarded",
                    "loftInsulated"
                  ]
                }
              ],
              "required": [
                "loftAccess"
              ],
              "properties": {
                "loftAccess": {
                  "ntsl2Ref": "A1.2.4.1"
                }
              }
            },
            "sprayFoamInsulation": {
              "ntsl2Ref": "A4.2",
              "discriminator": {
                "propertyName": "hasSprayFoamInstalled"
              },
              "oneOf": [
                {
                  "properties": {
                    "hasSprayFoamInstalled": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "hasSprayFoamInstalled": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A4.2.2",
                      "title": "Please give details"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "hasSprayFoamInstalled"
              ],
              "properties": {
                "hasSprayFoamInstalled": {
                  "ntsl2Ref": "A4.2.1"
                }
              }
            },
            "accessibilityAndAdaptations": {
              "ntsl2Ref": "C5"
            }
          }
        },
        "energyEfficiency": {
          "ntsl2Ref": "A4",
          "required": [
            "certificate"
          ],
          "properties": {
            "certificate": {
              "ntsl2Ref": "A4.1",
              "required": [
                "currentEnergyRating"
              ],
              "properties": {
                "currentEnergyRating": {
                  "ntsl2Ref": "A4.1.1"
                }
              }
            }
          }
        },
        "councilTax": {
          "ntsl2Ref": "A1",
          "required": [
            "councilTaxBand",
            "councilTaxAffectingAlterations"
          ],
          "properties": {
            "councilTaxBand": {
              "ntsl2Ref": "A1.1"
            },
            "councilTaxAffectingAlterations": {
              "ntsl2Ref": "A1.2",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A1.2.2"
                    },
                    "attachments": {
                      "ntsl2Ref": "A1.2.3"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "A1.2.1"
                }
              }
            }
          }
        },
        "notices": {
          "ntsl2Ref": "C4",
          "required": [
            "neighbourDevelopment",
            "planningApplication"
          ],
          "properties": {
            "neighbourDevelopment": {
              "ntsl2Ref": "C4.1",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "C4.1.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "C4.1.1"
                }
              }
            },
            "planningApplication": {
              "ntsl2Ref": "C4.2",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "C4.2.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "C4.2.1"
                }
              }
            }
          }
        },
        "specialistIssues": {
          "ntsl2Ref": "A5",
          "required": [
            "dryRotEtcTreatment",
            "containsAsbestos",
            "japaneseKnotweed",
            "subsidenceOrStructuralFault",
            "ongoingHealthOrSafetyIssue"
          ],
          "properties": {
            "dryRotEtcTreatment": {
              "ntsl2Ref": "A5.1",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A5.1.2"
                    },
                    "attachments": {
                      "ntsl2Ref": "A5.1.3"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "A5.1.1"
                }
              }
            },
            "containsAsbestos": {
              "ntsl2Ref": "A5.2",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A5.2.2",
                      "title": "Details"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "A5.2.1"
                }
              }
            },
            "japaneseKnotweed": {
              "ntsl2Ref": "A5.3",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No",
                        "Not known"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "managementPlanInPlace": {
                      "ntsl2Ref": "A5.3.2"
                    }
                  },
                  "required": [
                    "managementPlanInPlace"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "A5.3.1"
                }
              }
            },
            "subsidenceOrStructuralFault": {
              "ntsl2Ref": "A5.4",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A5.4.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "A5.4.1"
                }
              }
            },
            "ongoingHealthOrSafetyIssue": {
              "ntsl2Ref": "A5.5",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "A5.5.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "A5.5.1"
                }
              }
            }
          }
        },
        "electricity": {
          "ntsl2Ref": "B3.1",
          "required": [
            "mainsElectricity",
            "solarPanels",
            "heatPump",
            "otherSources"
          ],
          "properties": {
            "mainsElectricity": {
              "ntsl2Ref": "B3.1",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "To be connected"
                      ]
                    }
                  }
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "B3.1.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "solarPanels": {
              "ntsl2Ref": "B3.7",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "panelsOwnedOutright": {
                      "ntsl2Ref": "B3.7.1",
                      "discriminator": {
                        "propertyName": "yesNo"
                      },
                      "oneOf": [
                        {
                          "properties": {
                            "yesNo": {
                              "enum": [
                                "Yes"
                              ]
                            }
                          }
                        },
                        {
                          "properties": {
                            "yesNo": {
                              "enum": [
                                "No"
                              ]
                            }
                          }
                        }
                      ],
                      "required": [
                        "yesNo"
                      ],
                      "properties": {
                        "yesNo": {
                          "ntsl2Ref": "B3.7.1.1"
                        }
                      }
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "To be connected"
                      ]
                    }
                  }
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "B3.7.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "heatPump": {
              "ntsl2Ref": "B3.8",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "3.8.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "To be connected"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "3.8.2"
                    }
                  }
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "B3.8.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "otherSources": {
              "ntsl2Ref": "B3.9",
              "discriminator": {
                "propertyName": "yesNo"
              },
              "oneOf": [
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "B3.9.2"
                    }
                  },
                  "required": [
                    "details"
                  ]
                },
                {
                  "properties": {
                    "yesNo": {
                      "enum": [
                        "To be connected"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "B3.9.2"
                    }
                  }
                }
              ],
              "required": [
                "yesNo"
              ],
              "properties": {
                "yesNo": {
                  "ntsl2Ref": "B3.9.1",
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            }
          }
        },
        "waterAndDrainage": {
          "ntsl2Ref": "B3.2",
          "required": [
            "water",
            "drainage"
          ],
          "properties": {
            "water": {
              "ntsl2Ref": "B3.2",
              "required": [
                "mainsWater"
              ],
              "properties": {
                "mainsWater": {
                  "ntsl2Ref": "B3.2",
                  "discriminator": {
                    "propertyName": "yesNo"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "No"
                          ]
                        },
                        "details": {
                          "ntsl2Ref": "3.2.2"
                        }
                      },
                      "required": [
                        "details"
                      ]
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "Yes"
                          ]
                        },
                        "waterMeter": {
                          "ntsl2Ref": "B3.2.1.1",
                          "discriminator": {
                            "propertyName": "isSupplyMetered"
                          },
                          "oneOf": [
                            {
                              "properties": {
                                "isSupplyMetered": {
                                  "enum": [
                                    "No"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "isSupplyMetered": {
                                  "enum": [
                                    "Yes"
                                  ]
                                }
                              }
                            }
                          ],
                          "required": [
                            "isSupplyMetered"
                          ],
                          "properties": {
                            "isSupplyMetered": {
                              "ntsl2Ref": "3.2.3"
                            }
                          }
                        }
                      },
                      "required": [
                        "waterMeter"
                      ]
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "To be connected"
                          ]
                        }
                      }
                    }
                  ],
                  "required": [
                    "yesNo"
                  ],
                  "properties": {
                    "yesNo": {
                      "ntsl2Ref": "B3.2.1",
                      "enum": [
                        "Yes",
                        "No"
                      ]
                    }
                  }
                }
              }
            },
            "drainage": {
              "ntsl2Ref": "B3.3",
              "required": [
                "mainsSurfaceWaterDrainage",
                "mainsFoulDrainage"
              ],
              "properties": {
                "mainsSurfaceWaterDrainage": {
                  "ntsl2Ref": "B3.3.1",
                  "discriminator": {
                    "propertyName": "yesNo"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "No",
                            "Not known"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "Yes"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "To be connected"
                          ]
                        }
                      }
                    }
                  ],
                  "required": [
                    "yesNo"
                  ],
                  "properties": {
                    "yesNo": {
                      "ntsl2Ref": "B3.3.1.1",
                      "enum": [
                        "Yes",
                        "No"
                      ]
                    }
                  }
                },
                "mainsFoulDrainage": {
                  "ntsl2Ref": "B3.3.2",
                  "discriminator": {
                    "propertyName": "yesNo"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "Yes"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "To be connected"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "No",
                            "Not known"
                          ]
                        },
                        "offMainsDrainageSystem": {
                          "ntsl2Ref": "B3.3.3",
                          "discriminator": {
                            "propertyName": "offMainsDrainageSystemType"
                          },
                          "oneOf": [
                            {
                              "properties": {
                                "offMainsDrainageSystemType": {
                                  "enum": [
                                    "Sustainable Drainage System"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "offMainsDrainageSystemType": {
                                  "enum": [
                                    "Septic tank"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "offMainsDrainageSystemType": {
                                  "enum": [
                                    "Cesspit"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "offMainsDrainageSystemType": {
                                  "enum": [
                                    "Sewerage treatment plant"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "offMainsDrainageSystemType": {
                                  "enum": [
                                    "Other",
                                    "Not known"
                                  ]
                                },
                                "details": {
                                  "ntsl2Ref": "B3.3.3.2"
                                }
                              },
                              "required": [
                                "details"
                              ]
                            }
                          ],
                          "required": [
                            "offMainsDrainageSystemType"
                          ],
                          "properties": {
                            "offMainsDrainageSystemType": {
                              "ntsl2Ref": "B3.3.3.1"
                            }
                          }
                        }
                      }
                    }
                  ],
                  "required": [
                    "yesNo"
                  ],
                  "properties": {
                    "yesNo": {
                      "ntsl2Ref": "B3.3.2.1",
                      "enum": [
                        "Yes",
                        "No"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "heating": {
          "ntsl2Ref": "B3.4",
          "required": [
            "heatingSystem"
          ],
          "properties": {
            "heatingSystem": {
              "ntsl2Ref": "B3.4.1",
              "discriminator": {
                "propertyName": "heatingType"
              },
              "oneOf": [
                {
                  "properties": {
                    "heatingType": {
                      "enum": [
                        "None",
                        "Room heaters only"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "heatingType": {
                      "enum": [
                        "Central heating"
                      ]
                    },
                    "centralHeatingDetails": {
                      "ntsl2Ref": "B3.4.3",
                      "required": [
                        "centralHeatingFuel",
                        "centralHeatingInstalled"
                      ],
                      "properties": {
                        "centralHeatingFuel": {
                          "ntsl2Ref": "B3.4.3.1",
                          "discriminator": {
                            "propertyName": "centralHeatingFuelType"
                          },
                          "oneOf": [
                            {
                              "properties": {
                                "centralHeatingFuelType": {
                                  "enum": [
                                    "Mains gas"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "centralHeatingFuelType": {
                                  "enum": [
                                    "Electricity"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "centralHeatingFuelType": {
                                  "enum": [
                                    "Oil",
                                    "LPG",
                                    "Biomass"
                                  ]
                                }
                              }
                            },
                            {
                              "properties": {
                                "centralHeatingFuelType": {
                                  "enum": [
                                    "Other"
                                  ]
                                }
                              }
                            }
                          ],
                          "required": [
                            "centralHeatingFuelType"
                          ],
                          "properties": {
                            "centralHeatingFuelType": {
                              "ntsl2Ref": "B3.4.3.1.1"
                            }
                          }
                        },
                        "centralHeatingInstalled": {
                          "ntsl2Ref": "B3.4.3.2"
                        }
                      }
                    }
                  },
                  "required": [
                    "centralHeatingDetails"
                  ]
                },
                {
                  "properties": {
                    "heatingType": {
                      "enum": [
                        "Communal heating system"
                      ]
                    },
                    "details": {
                      "ntsl2Ref": "B3.4.4"
                    }
                  },
                  "required": [
                    "details"
                  ]
                }
              ],
              "required": [
                "heatingType"
              ],
              "properties": {
                "heatingType": {
                  "ntsl2Ref": "B3.4.1"
                }
              }
            },
            "otherHeatingFeatures": {
              "ntsl2Ref": "B3.4.2"
            }
          }
        },
        "connectivity": {
          "ntsl2Ref": "B3",
          "required": [
            "broadband"
          ],
          "properties": {
            "telephone": {
              "properties": {
                "yesNo": {
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "cableSatelliteTV": {
              "properties": {
                "yesNo": {
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              }
            },
            "broadband": {
              "ntsl2Ref": "B3.5",
              "required": [
                "typeOfConnection"
              ],
              "properties": {
                "typeOfConnection": {
                  "ntsl2Ref": "B3.5.2"
                }
              }
            },
            "mobilePhone": {
              "ntsl2Ref": "B3.6",
              "properties": {
                "knownSignalIssues": {
                  "ntsl2Ref": "B3.6.1",
                  "discriminator": {
                    "propertyName": "yesNo"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "No"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "Yes"
                          ]
                        },
                        "details": {
                          "ntsl2Ref": "B3.6.1.2"
                        }
                      },
                      "required": [
                        "details"
                      ]
                    }
                  ],
                  "required": [
                    "yesNo"
                  ],
                  "properties": {
                    "yesNo": {
                      "ntsl2Ref": "B3.6.1.1"
                    }
                  }
                }
              }
            }
          }
        },
        "rightsAndInformalArrangements": {
          "ntsl2Ref": "C2.2",
          "required": [
            "rightsOrArrangements"
          ],
          "properties": {
            "rightsOrArrangements": {
              "ntsl2Ref": "C2.2.1",
              "required": [
                "publicRightOfWay"
              ],
              "properties": {
                "publicRightOfWay": {
                  "ntsl2Ref": "C2.2.1",
                  "discriminator": {
                    "propertyName": "yesNo"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "No"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "yesNo": {
                          "enum": [
                            "Yes"
                          ]
                        },
                        "details": {
                          "ntsl2Ref": "C2.2.1.2"
                        }
                      },
                      "required": [
                        "details"
                      ]
                    }
                  ],
                  "required": [
                    "yesNo"
                  ],
                  "properties": {
                    "yesNo": {
                      "ntsl2Ref": "C2.2.1.1"
                    }
                  }
                }
              }
            }
          }
        },
        "environmentalIssues": {
          "ntsl2Ref": "C3.1",
          "required": [
            "flooding",
            "coalMining",
            "nonCoalMining",
            "coastalErosion"
          ],
          "properties": {
            "flooding": {
              "ntsl2Ref": "C3.1.1",
              "required": [
                "floodRisk",
                "historicalFlooding",
                "floodDefences"
              ],
              "properties": {
                "floodRisk": {
                  "ntsl2Ref": "C3.1.1.1",
                  "discriminator": {
                    "propertyName": "riskIndicator"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "riskIndicator": {
                          "enum": [
                            "No"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "riskIndicator": {
                          "enum": [
                            "Yes"
                          ]
                        },
                        "summary": {
                          "ntsl2Ref": "C3.1.1.2",
                          "title": "Please provide details"
                        }
                      },
                      "required": [
                        "summary"
                      ]
                    }
                  ],
                  "required": [
                    "riskIndicator"
                  ],
                  "properties": {
                    "riskIndicator": {
                      "ntsl2Ref": "C3.1.1.1"
                    }
                  }
                },
                "historicalFlooding": {
                  "ntsl2Ref": "C3.1.1.2",
                  "discriminator": {
                    "propertyName": "hasBeenFlooded"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "hasBeenFlooded": {
                          "enum": [
                            "No"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "hasBeenFlooded": {
                          "enum": [
                            "Yes"
                          ]
                        },
                        "typeOfFlooding": {
                          "ntsl2Ref": "C3.1.1.3"
                        },
                        "details": {
                          "ntsl2Ref": "C3.1.1.4"
                        }
                      },
                      "required": [
                        "typeOfFlooding",
                        "details"
                      ]
                    }
                  ],
                  "required": [
                    "hasBeenFlooded"
                  ],
                  "properties": {
                    "hasBeenFlooded": {
                      "ntsl2Ref": "C3.1.1.2.1"
                    }
                  }
                },
                "floodDefences": {
                  "ntsl2Ref": "C3.1.1.3",
                  "discriminator": {
                    "propertyName": "hasFloodDefences"
                  },
                  "oneOf": [
                    {
                      "properties": {
                        "hasFloodDefences": {
                          "enum": [
                            "No"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "hasFloodDefences": {
                          "enum": [
                            "Yes"
                          ]
                        },
                        "details": {
                          "ntsl2Ref": "C3.1.1.3.2"
                        }
                      },
                      "required": [
                        "details"
                      ]
                    }
                  ],
                  "required": [
                    "hasFloodDefences"
                  ],
                  "properties": {
                    "hasFloodDefences": {
                      "ntsl2Ref": "C3.1.1.3.1"
                    }
                  }
                }
              }
            },
            "coalMining": {
              "ntsl2Ref": "C6.1",
              "discriminator": {
                "propertyName": "riskIndicator"
              },
              "oneOf": [
                {
                  "properties": {
                    "riskIndicator": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "riskIndicator": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "summary": {
                      "ntsl2Ref": "C6.1.1"
                    }
                  }
                }
              ],
              "required": [
                "riskIndicator"
              ],
              "properties": {
                "riskIndicator": {
                  "ntsl2Ref": "C6.1.1"
                }
              }
            },
            "nonCoalMining": {
              "ntsl2Ref": "C6.2",
              "discriminator": {
                "propertyName": "riskIndicator"
              },
              "oneOf": [
                {
                  "properties": {
                    "riskIndicator": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "riskIndicator": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "summary": {
                      "ntsl2Ref": "C6.2.2"
                    }
                  },
                  "required": [
                    "summary"
                  ]
                }
              ],
              "required": [
                "riskIndicator"
              ],
              "properties": {
                "riskIndicator": {
                  "ntsl2Ref": "C6.2.1"
                }
              }
            },
            "coastalErosion": {
              "ntsl2Ref": "C3.2",
              "discriminator": {
                "propertyName": "riskIndicator"
              },
              "oneOf": [
                {
                  "properties": {
                    "riskIndicator": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "riskIndicator": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "summary": {
                      "ntsl2Ref": "C3.2.2"
                    }
                  },
                  "required": [
                    "summary"
                  ]
                }
              ],
              "required": [
                "riskIndicator"
              ],
              "properties": {
                "riskIndicator": {
                  "ntsl2Ref": "C3.2.1"
                }
              }
            }
          }
        }
      }
    }
  }
}